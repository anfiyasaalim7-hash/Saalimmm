<!DOCTYPE html>
<html>
<head>
  <title>Flash Control</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: black;
      color: white;
      text-align: center;
      font-family: Arial;
    }
    button {
      width: 80%;
      padding: 15px;
      margin: 10px;
      font-size: 20px;
      border-radius: 10px;
      border: none;
      background: #00ffcc;
      color: black;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h2>FLASH CONTROL</h2>

<button onclick="sendFlash(2)">HI</button>
<button onclick="sendFlash(3)">HELLO</button>
<button onclick="sendFlash(4)">HOW ARE YOU</button>
<button onclick="sendFlash(5)">GOOD</button>
<button onclick="sendFlash(6)">THANK YOU</button>
<button onclick="sendFlash(7)">BYE</button>

<script>
let stream;
let track;

async function startFlash() {
  stream = await navigator.mediaDevices.getUserMedia({
    video: { facingMode: "environment" }
  });
  track = stream.getVideoTracks()[0];
}

async function flashOn() {
  await track.applyConstraints({
    advanced: [{ torch: true }]
  });
}

async function flashOff() {
  await track.applyConstraints({
    advanced: [{ torch: false }]
  });
}

async function sendFlash(count) {
  if (!track) await startFlash();

  for (let i = 0; i < count; i++) {
    await flashOn();
    await sleep(150);   // FAST ON
    await flashOff();
    await sleep(150);   // FAST OFF
  }
}

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
</script>

</body>
</html>